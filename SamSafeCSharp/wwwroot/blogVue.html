<!DOCTYPE html>
<html>
<head>
    <title>Blog Vue example</title>
</head>
<body>
    <script src="https://unpkg.com/vue"></script>

    <div id="blogplaceholder">
 
    </div>


    <script>
        var COUNTER_MAX = 10;

        let vue = new Vue({
            el: '#blogplaceholder',

            // Model
            data: {

            },


            methods: {
                // actions
                edit: function (data) {
                    data = data || { edited: true };
                    this.present(data);
                },

                delete: function (data) {
                    data = data || { deleted: true };
                    this.present(data);
                },

                save: function (data) {
                    data = data || { saved: true };
                    this.present(data);
                },

                cancel: function (data) {
                    data = data || { cancelled: true };
                    this.present(data);
                },



                present: function (proposal) {
                    console.log('present');
                    if (proposal.edited !== undefined) {
                        this.edited = proposal.edited;
                    }

                    if (proposal.saved !== undefined) {
                        this.saved = proposal.saved;
                    }

                    if (proposal.deleted !== undefined) {
                        this.deleted = proposal.deleted;
                    }


                    this.state();
                },

                // State Function
                state: function () {
                    // no state representation, it's the Vue template

                    this.nextAction();

                    return '';
                },

                nextAction: function () {
                    console.log('nextAction');

                }
            },

            computed: {

                // State
                readyState: function () {
                    return ((this.counter === COUNTER_MAX) && !this.edited && !this.saved && !this.deleted);
                },

                countingState: function () {
                    return ((this.counter <= COUNTER_MAX) &&
                        (this.counter >= 0) &&
                        this.edited &&
                        !this.saved &&
                        !this.deleted);
                },

                savedState: function () {
                    return ((this.counter == 0) && this.edited && this.saved && !this.deleted);
                },

                deletedState: function () {
                    return ((this.counter <= COUNTER_MAX) &&
                        (this.counter >= 0) &&
                        this.edited &&
                        !this.saved &&
                        this.deleted);
                }
            }
        });

    </script>
</body>
</html>